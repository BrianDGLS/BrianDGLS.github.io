<!DOCTYPE html><html lang=en><meta charset=utf-8><meta name=theme-color content=#000><meta name=viewport content="width=device-width,minimum-scale=1,initial-scale=1"><meta name=description content="Software engineering blog. Articles on Javascript and Web Platform by Brian Douglas."><link rel=manifest href=/manifest.webmanifest><link rel=mask-icon href=/favicon/safari-pinned-tab.svg color=#5bbad5><link rel=apple-touch-icon sizes=180x180 href=/favicon/apple-touch-icon.png><link rel=icon type=image/png href=/favicon/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicon/favicon-16x16.png sizes=16x16><link rel=canonical href=https://briandgls.github.io/2016/creating-fractals/ ><title>BrianDGLS</title><meta name=description content="&lt;p&gt;Fractals show the beauty of numbers. There are many famous fractals, which are often named after European mathematicians. You may have heard of Sierpinski&amp;rsquo;s Triangle, the Mandelbrot Set, and the Koch Curve. These are all fractal patterns.&lt;/p&gt;"><meta property=og:locale content=en_GB><meta property=og:type content=article><meta property=og:url content=https://briandgls.github.io/2016/creating-fractals/ ><meta property=og:site_name content=BrianDGLS><meta property=og:title content="Creating Fractals - BrianDGLS"><meta property=og:description content="&lt;p&gt;Fractals show the beauty of numbers. There are many famous fractals, which are often named after European mathematicians. You may have heard of Sierpinski&amp;rsquo;s Triangle, the Mandelbrot Set, and the Koch Curve. These are all fractal patterns.&lt;/p&gt;"><style>/****************************************************Vars****************************************************//****************************************************Mixins****************************************************//****************************************************Reset****************************************************/html { box-sizing: border-box; font-size: 16px;}*,*:before,*:after { box-sizing: inherit;}body,h1,h2,h3,h4,h5,h6,p,ol,ul { margin: 0; padding: 0; font-weight: normal;}ol,ul { list-style: none;}img { max-width: 100%; height: auto;}/****************************************************Defaults****************************************************/html { font-size: 18px;}html,body { height: 100%;}body { font-family: Avenir, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; -webkit-font-smoothing: antialiased;}h1,h2,h3,h4,h5,h6 { font-weight: 900;}code,pre,blockquote { font-family: "Lucida Console", Monaco, monospace !important;}/****************************************************Layout****************************************************/.hc-layout { display: flex; flex-wrap: wrap; justify-content: flex-start;}.hc-layout .hc-aside,.hc-layout .hc-content,.hc-layout .hc-footer { width: 100%;}@media (min-width: 990px) { .hc-layout .hc-aside { order: 1; width: 15rem; } .hc-layout .hc-content { order: 2; width: 38rem; min-height: calc(100vh - 147px); } .hc-layout .hc-footer { order: 3; width: 100%; }}.hc-layout--page .hc-aside { order: 2;}.hc-layout--page .hc-content { order: 1;}.hc-layout--page .hc-footer { order: 3;}@media (max-width: 989px) { .hc-layout--page .hc-aside { margin-top: 1.2rem; } .hc-layout--page .hc-content + .hc-footer { margin-top: 0; }}@media (min-width: 990px) { .hc-layout--page .hc-aside { order: 1; width: 15rem; } .hc-layout--page .hc-content { order: 2; width: 38rem; } .hc-layout--page .hc-footer { order: 3; width: 100%; }}/****************************************************Aside****************************************************/@media (min-width: 990px) { .hc-aside__fixed { top: 0; position: fixed; width: 15rem; }}/****************************************************Top Line****************************************************/.hc-top-line { border-top: 8px solid #000; position: fixed; top: 0; left: 0; width: 100%; z-index: 100;}/****************************************************Header****************************************************/.hc-header { padding: 1.5rem 1rem; background: #222; color: #fff;}.hc-header a { color: #fff; text-decoration: none;}.hc-header__brand { font-family: "Arial Black", Gadget, sans-serif; text-transform: uppercase; font-size: 1rem;}@media (min-width: 990px) { .hc-header__brand { font-size: 1.2rem; }}/****************************************************Pagination****************************************************/.hc-pagination { padding: 1.5rem 1rem;}.hc-pagination a { color: #fff; text-decoration: none;}@media (min-width: 990px) { .hc-pagination { max-width: 100%; width: 38rem; }}.hc-pagination__prev, .hc-pagination__next { background: #222; color: #fff; font-weight: 900; padding: 0 0.5rem;}.hc-pagination__prev { float: left;}.hc-pagination__next { float: right;}/****************************************************Footer****************************************************/.hc-footer { padding: 1.5rem 1rem; background: #222; color: #fff; margin-top: 1.2rem;}.hc-footer a { color: #fff; text-decoration: none;}.hc-footer__brand { max-width: 100%; width: 38rem; margin-top: 1.2rem;}.hc-footer__brand-link { font-weight: 900;}.hc-footer__nav { max-width: 100%; width: 38rem;}.hc-footer__nav-link { font-weight: 900; padding-right: 1rem;}/****************************************************Article****************************************************/.hc-article { padding: 1.5rem 1rem;}@media (max-width: 990px) { .hc-article--summary { max-width: 100%; width: 38rem; }}.hc-article-header a { color: #222; text-decoration: none;}.hc-article-header__title { font-size: 1.8rem;}.hc-article-header__date { color: #666 !important; font-size: 0.8rem; font-weight: 900; text-transform: uppercase;}.hc-article-body { margin-top: 1.2rem;}.hc-article-body h2,.hc-article-body h3,.hc-article-body h4,.hc-article-body h5,.hc-article-body h6,.hc-article-body p { margin-top: 1.2rem;}.hc-article-body blockquote { font-style: italic; padding-left: 1rem; border-left: 5px #222 solid;}.hc-article-body img { display: block; margin: 0 auto;}.hc-article-body pre { padding: 1.5rem 1rem; background: #f6f6f6 !important;}.hc-article-body span.token { background: #f6f6f6 !important;}.hc-article-body + .hc-article-footer { margin-top: 1.2rem;}.hc-article-footer a { color: #fff; text-decoration: none;}.hc-article-footer__read-more { background: #222; color: #fff; font-weight: 900; padding: 0 0.5rem;}/****************************************************Article List****************************************************/.hc-article-list__item:hover { background: #f6f6f6 !important;}/****************************************************User Card****************************************************/.hc-user-card a { color: #222; text-decoration: none;}@media (max-width: 989px) { .hc-user-card { padding: 1.5rem 1rem; background: #f6f6f6 !important; display: flex; }}@media (max-width: 540px) { .hc-user-card { flex-wrap: wrap; }}.hc-user-card__img { width: 270px; height: 270px; background: #222;}@media (min-width: 990px) { .hc-user-card__img { width: 220px; height: 220px; outline: 5px solid #222; display: block; margin: 4rem auto 0; }}.hc-user-card__details { padding-top: 1rem;}@media (min-width: 990px) { .hc-user-card__details { text-align: center; }}@media (min-width: 541px) { .hc-user-card__details { padding: 1.5rem 1rem; }}.hc-user-card__bio { margin-top: 1.2rem;}.hc-user-card__links-wrap { margin-top: 1.2rem;}.hc-user-card__links-wrap a { color: #fff; text-decoration: none;}.hc-user-card__link { background: #222; color: #fff; font-weight: 900; padding: 0 0.5rem;}/*# sourceMappingURL=themes/BrianDGLS/layouts/partials/main.css.map */</style><div class=hc-top-line></div><div class="hc-layout hc-layout--page"><section class=hc-aside><div class=hc-aside__fixed><div class=hc-user-card id=js-github-user-card><img class=hc-user-card__img alt="picture of me, Brian Douglas" data-src=/images/me.jpeg><div class=hc-user-card__details><h2 class=hc-user-card__name>Brian Douglas</h2><h4 class=hc-user-card__github-username><a href=https://github.com/BrianDGLS>@BrianDGLS</a></h4><p class=hc-user-card__bio>An Irish software engineer. Focused on Javascript and the web platform.<div class=hc-user-card__links-wrap><a class=hc-user-card__link href=https://github.com/BrianDGLS/ >Github</a> <a class=hc-user-card__link href=https://codepen.io/BrianDGLS/ >Codepen</a></div></div></div></div></section><section class=hc-content><article id=article-be6f2e9837bfe5c98208234e0cc52e4b class=hc-article><header class=hc-article-header><time class=hc-article-header__date datetime="Thu, Apr 21, 2016">Apr 21, 2016</time><h1 class=hc-article-header__title>Creating Fractals</h1></header><div class=hc-article-body><p>Fractals show the beauty of numbers. There are many famous fractals, which are often named after European mathematicians. You may have heard of Sierpinski&rsquo;s Triangle, the Mandelbrot Set, and the Koch Curve. These are all fractal patterns.<p>I&rsquo;m going to show you how to create the Koch Snowflake using the Canvas element.<p>The Koch Snowflake is not technically a fractal. It is a shape made up of three Koch Curves. When these Koch Curves are positioned correctly they create a Koch Snowflake.<p>Let&rsquo;s create the function that draws a Koch Curve. We&rsquo;ll name it koch.<div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>koch</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>limit</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>) =&gt; {
    <span style=color:#66d9ef>let</span> [<span style=color:#a6e22e>dx</span>, <span style=color:#a6e22e>dy</span>] <span style=color:#f92672>=</span> [<span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>y</span>]
    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>dist</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>sqrt</span>(<span style=color:#a6e22e>dx</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dx</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>dy</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dy</span>)
    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>unit</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dist</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>
    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>angle</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>atan2</span>(<span style=color:#a6e22e>dy</span>, <span style=color:#a6e22e>dx</span>)

    <span style=color:#75715e>//This will be the triangular shape that makes the &#39;points&#39; on the snowflake
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>p1</span> <span style=color:#f92672>=</span> {
        <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>dx</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>,
        <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>dy</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>
    }
    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>p3</span> <span style=color:#f92672>=</span> {
        <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>dx</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>,
        <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>dy</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>
    }
    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>p2</span> <span style=color:#f92672>=</span> {
        <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>p1</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> Math.<span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>angle</span> <span style=color:#f92672>-</span> Math.<span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>unit</span>,
        <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>p1</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> Math.<span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>angle</span> <span style=color:#f92672>-</span> Math.<span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>unit</span>
    }

    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>limit</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>) {
        <span style=color:#75715e>// Decrease limit each time it&#39;s called
</span><span style=color:#75715e></span>        <span style=color:#a6e22e>koch</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>p1</span>, <span style=color:#a6e22e>limit</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>)
        <span style=color:#a6e22e>koch</span>(<span style=color:#a6e22e>p1</span>, <span style=color:#a6e22e>p2</span>, <span style=color:#a6e22e>limit</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>)
        <span style=color:#a6e22e>koch</span>(<span style=color:#a6e22e>p2</span>, <span style=color:#a6e22e>p3</span>, <span style=color:#a6e22e>limit</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>)
        <span style=color:#a6e22e>koch</span>(<span style=color:#a6e22e>p3</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>limit</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>)
    } <span style=color:#66d9ef>else</span> {
        <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>beginPath</span>()
        <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>moveTo</span>(<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>y</span>)
        <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>lineTo</span>(<span style=color:#a6e22e>p1</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>p1</span>.<span style=color:#a6e22e>y</span>)
        <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>lineTo</span>(<span style=color:#a6e22e>p2</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>p2</span>.<span style=color:#a6e22e>y</span>)
        <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>lineTo</span>(<span style=color:#a6e22e>p3</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>p3</span>.<span style=color:#a6e22e>y</span>)
        <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>lineTo</span>(<span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>y</span>)
        <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>stroke</span>()
    }
}
</code></pre></div><p>The Koch function above takes two starting coordinates. These should be in the form of <code>{x: 90, y: 90}</code>. We&rsquo;ll use these coordinates to plot where the triangular &lsquo;curve&rsquo; should be placed. You can see the coordinates for the triangle&rsquo;s points defined as <code>p1,p2,p3</code>Â inside the function.<p>The function will be called recursively, to create the fractal. We must ensure that an infinite loop is not formed. To prevent this we pass in a default limit of recursion. This can be changed. Changing it to a higher number, will add little visual difference.<p>To use this function and create the Koch Snowflake, we must add some more boilerplate code.<div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>(() =&gt; {
    <span style=color:#75715e>// Create canvas element, that we will draw on
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>canvas</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;canvas&#39;</span>)
    document.<span style=color:#a6e22e>body</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>canvas</span>)

    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>context</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>getContext</span>(<span style=color:#e6db74>&#39;2d&#39;</span>)
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>420</span>
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>height</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>420</span>

    <span style=color:#75715e>// The starting cordinates, basically tilting the Koch Curve
</span><span style=color:#75715e></span>    <span style=color:#75715e>// so that when we add three together they form the snowflake
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>startingPoints</span> <span style=color:#f92672>=</span> {
        <span style=color:#a6e22e>p1</span><span style=color:#f92672>:</span> {
            <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>,
            <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>150</span>
        },
        <span style=color:#a6e22e>p2</span><span style=color:#f92672>:</span> {
            <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>150</span>,
            <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>100</span>
        },
        <span style=color:#a6e22e>p3</span><span style=color:#f92672>:</span> {
            <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>150</span>,
            <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>100</span>
        }
    }

    <span style=color:#75715e>// Draw relative to center of the screen
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>translate</span>(<span style=color:#ae81ff>.5</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>width</span>, <span style=color:#ae81ff>.5</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>height</span>)

    <span style=color:#75715e>// add a default limit of three as we don&#39;t want an infinite loop
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>koch</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>limit</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>) =&gt; {
        <span style=color:#66d9ef>let</span> [<span style=color:#a6e22e>dx</span>, <span style=color:#a6e22e>dy</span>] <span style=color:#f92672>=</span> [<span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>y</span>]
        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>dist</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>sqrt</span>(<span style=color:#a6e22e>dx</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dx</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>dy</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dy</span>)
        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>unit</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dist</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>
        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>angle</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>atan2</span>(<span style=color:#a6e22e>dy</span>, <span style=color:#a6e22e>dx</span>)

        <span style=color:#75715e>//This will be the triangular shape that makes the &#39;point&#39; of the curve
</span><span style=color:#75715e></span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>p1</span> <span style=color:#f92672>=</span> {
            <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>dx</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>,
            <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>dy</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>
        }
        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>p3</span> <span style=color:#f92672>=</span> {
            <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>dx</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>,
            <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>dy</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>
        }
        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>p2</span> <span style=color:#f92672>=</span> {
            <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>p1</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> Math.<span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>angle</span> <span style=color:#f92672>-</span> Math.<span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>unit</span>,
            <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>p1</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> Math.<span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>angle</span> <span style=color:#f92672>-</span> Math.<span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>unit</span>
        }

        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>limit</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>) {
            <span style=color:#75715e>// Decrease limit each time it&#39;s called
</span><span style=color:#75715e></span>            <span style=color:#a6e22e>koch</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>p1</span>, <span style=color:#a6e22e>limit</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>)
            <span style=color:#a6e22e>koch</span>(<span style=color:#a6e22e>p1</span>, <span style=color:#a6e22e>p2</span>, <span style=color:#a6e22e>limit</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>)
            <span style=color:#a6e22e>koch</span>(<span style=color:#a6e22e>p2</span>, <span style=color:#a6e22e>p3</span>, <span style=color:#a6e22e>limit</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>)
            <span style=color:#a6e22e>koch</span>(<span style=color:#a6e22e>p3</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>limit</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>)
        } <span style=color:#66d9ef>else</span> {
            <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>beginPath</span>()
            <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>moveTo</span>(<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>y</span>)
            <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>lineTo</span>(<span style=color:#a6e22e>p1</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>p1</span>.<span style=color:#a6e22e>y</span>)
            <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>lineTo</span>(<span style=color:#a6e22e>p2</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>p2</span>.<span style=color:#a6e22e>y</span>)
            <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>lineTo</span>(<span style=color:#a6e22e>p3</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>p3</span>.<span style=color:#a6e22e>y</span>)
            <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>lineTo</span>(<span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>y</span>)
            <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>stroke</span>()
        }
    }

    <span style=color:#75715e>// draw the shape using our predefined co-ordinates
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>koch</span>(<span style=color:#a6e22e>startingPoints</span>.<span style=color:#a6e22e>p1</span>, <span style=color:#a6e22e>startingPoints</span>.<span style=color:#a6e22e>p2</span>)
    <span style=color:#a6e22e>koch</span>(<span style=color:#a6e22e>startingPoints</span>.<span style=color:#a6e22e>p2</span>, <span style=color:#a6e22e>startingPoints</span>.<span style=color:#a6e22e>p3</span>)
    <span style=color:#a6e22e>koch</span>(<span style=color:#a6e22e>startingPoints</span>.<span style=color:#a6e22e>p3</span>, <span style=color:#a6e22e>startingPoints</span>.<span style=color:#a6e22e>p1</span>)

})()
</code></pre></div><p>If you have followed these examples correctly you should have something that looks like the following. Note that I have added a recursion selector.</p><style>.demo {
    text-align: center;
  }</style><div class=demo><label for=recursion>Level of Recursion</label> <select name=recursion id=recursion><option value=1>1<option value=2>2<option value=3>3<option value=4>4<option value=5 selected>5<option value=6>6<option value=7>7</select><div id=canvas></div></div><script>(function(){var e=document.createElement('canvas');document.getElementById('canvas').appendChild(e);var c=e.getContext('2d'),q=e.width=420,r=e.height=420,m={x:0,y:-150},n={x:150,y:100},p={x:-150,y:100};c.translate(.5*q,.5*r);var a=function d(f,g){var a=2>=arguments.length||void 0===arguments[2]?3:arguments[2],b=g.x-f.x,l=g.y-f.y,h=Math.sqrt(b*b+l*l)/3,e=Math.atan2(l,b),k={x:f.x+b/3,y:f.y+l/3},b={x:g.x-b/3,y:g.y-l/3},h={x:k.x+Math.cos(e-Math.PI/3)*h,y:k.y+Math.sin(e-Math.PI/3)*h};0<a?(d(f,k,a-1),d(k,
h,a-1),d(h,b,a-1),d(b,g,a-1)):(c.beginPath(),c.moveTo(f.x,f.y),c.lineTo(k.x,k.y),c.lineTo(h.x,h.y),c.lineTo(b.x,b.y),c.lineTo(g.x,g.y),c.stroke())};a(m,n,5);a(n,p,5);a(p,m,5);var t=document.getElementById('recursion');t.onchange=function(){var d=t.options[t.selectedIndex].value;c.clearRect(-q/2,r/-2,q,r);a(m,n,d);a(n,p,d);a(p,m,d)}})();</script><p><em>You can edit this example on codepen at the following url</em> <a href=http://codepen.io/BrianDGLS/pen/GZdLjj>http://codepen.io/BrianDGLS/pen/GZdLjj</a><h2 id=summary>Summary</h2><p>It&rsquo;s true. I left out a lot of detail here. Fractals are both simple and complex, which makes them hard to explain. I can show you quite easily how to make a fractal, but explaining why certain numbers and methods work is much harder. I have been playing around with canvas fractals for a while and I am only just starting to get a feel for it.<p>If you are intrigued and want to learn more, I recommend looking at the mathematics behind fractals, as opposed to how to code them. The prior will lead to the latter.<p>I recommend checking out <a href=https://www.youtube.com/user/numberphile/videos>Numberphile</a> on YouTube. This channel does an awesome job of explaining complex maths. It&rsquo;s also a great source of inspiration for writing code.<p>Want a challenge? Using the methods I introduced above, try creating the <a href=https://en.wikipedia.org/wiki/Sierpinski_triangle>Sierpinski Triangle</a>. If you manage to do it post the result as a comment.</div></article><footer class=hc-footer><nav class=hc-footer__nav><a href=https://briandgls.github.io//about class=hc-footer__nav-link>About Me</a> <a href=https://github.com/BrianDGLS class=hc-footer__nav-link>Github</a> <a href=https://codepen.io/BrianDGLS/ class=hc-footer__nav-link>Codepen</a></nav><p class=hc-footer__brand><span class=hc-footer__year></span> / <a href=https://briandgls.github.io/ class=hc-footer__brand-link>BrianDGLS</a></p><script>const $year = document.querySelector('.hc-footer__year')
        $year.textContent = new Date().getFullYear()</script></footer></section></div><a href=# title="back to top" rel=nofollow tabindex=0></a><link rel=stylesheet href=/prism/prism.css async defer><script src=/prism/prism.js async defer></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js');
      }, {once: true});
    }

    window.addEventListener('DOMContentLoaded', () => {
      const images = document.querySelectorAll('img[data-src]');
      if(images.length) {
        for(let img of images) {
          img.setAttribute('src', img.getAttribute('data-src'));
          img.onload = () => img.removeAttribute('data-src');
        }
      }
    }, {once: true});</script>